\chapter{总结与展望}

本文对 Android 应用的绘制原理、View 的源码以及 RecyclerView 的源码进行了深度解析。在有了这些知识储备的前提下，针对视频场景的 Feed 流进行了预渲染优化；同时针对图文类型的 RecyclerView，也对其首刷阶段的 View 加载流程进行了异步化；为了能够量化优化带来的流畅性体验提升，还建立了流畅性指标来衡量优化成果，同时针对 RecyclerView 首刷的耗时分析，也搭建了秒开检测框架来统计首刷时长。以上优化成果以及指标的搭建也成功在线上应用中通过实验数据看到了收益。

在优化的过程中也遇到了各种问题，比如可见性分发框架的解耦问题，研究 RecyclerView 源码时对布局流程不够了解导致的一些缺陷，以及设计秒开检测框架时 View 之间重叠区域计算的问题等。这些问题随着知识不断积累，经验不断增加，最终也都被攻克了。本文中记录的缺陷为整个预渲染框架中最致命的问题，所以也花费了很长时间进行问题复现、排查和妥善修复。

在之后的项目中，希望能够在播放器方面针对 Feed 流进行更深层次的优化。不局限于卡片层面的预渲染，而是视频层面的预渲染。打通播放器、视频卡片、视频列表、各个业务方的预渲染接口，设计统一的标准，以获得更大的流畅性提升；同时也需要建立更加细化的流畅性指标，统计到更细分场景下的流畅性，以应对深水区优化的需求。